<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contact the Developers</title>

    <!-- Theme stylesheets, default to light theme -->
    <link id="theme-stylesheet" rel="stylesheet" href="{% static 'music/light.css' %}">

    <style>
        .visually-hidden {  
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            border: 0;
        }

        .contact-section {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 110px 80px;
            font: 700 24px/1 Lexend, sans-serif;
            transition: background-color 0.3s ease;
        }

        .contact-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            width: 100%;
            max-width: 756px;
            text-align: center;
        }

        .contact-heading {
            font-size: 64px;
            margin-bottom: 20px;
        }

        .contact-description {
            font-size: 18px;
            margin-bottom: 40px;
        }

        .message-input {
            width: 100%;
            border-radius: 20px;
            background-color: #fff;
            padding: 20px 10px;
            font-size: 20px;
            color: #1ed760;
            font-weight: 400;
            border: 1px solid #000;
            resize: none;
        }

        .submit-button {
            width: 100%;
            border-radius: 20px;
            background: #1ed760;
            margin-top: 16px;
            min-height: 51px;
            color: #fff;
            padding: 14px 10px;
            border: none;
            cursor: pointer;
        }

        .submit-button:hover {
            background: #159442;
        }

        .theme-toggle {
            margin-top: 20px;
            border-radius: 30px;
            background-color: #fff;
            padding: 12px 35px;
            border: 1px solid #000;
            cursor: pointer;
        }

        @media (max-width: 991px) {
            .contact-section {
                padding: 20px;
            }

            .contact-heading {
                font-size: 40px;
            }

            .contact-description {
                font-size: 16px;
            }

            .submit-button {
                margin-top: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="contact-section">
        <div class="contact-container">
            <h1 class="contact-heading">Contact the Developers</h1>
            <p class="contact-description">
                If you have any questions or feedback, feel free to send a message!
            </p>
            <form method="post">
                {% csrf_token %}
                <label for="messageInput" class="visually-hidden">Message</label>
                <textarea
                    id="messageInput"
                    class="message-input"
                    name="message"
                    aria-label="Message"
                    rows="4"
                ></textarea>
                <button type="submit" class="submit-button">Send Message</button>
            </form>
            <button class="theme-toggle" type="button" aria-label="Switch Theme">Switch Theme</button>
        </div>
    </div>

    <script>
        function setTheme(theme) {
            const themeStylesheet = document.getElementById('theme-stylesheet');
            themeStylesheet.setAttribute('href',
                theme === 'dark' ? '{% static "music/dark.css" %}' :
                theme === 'light' ? '{% static "music/light.css" %}' :
                theme === 'colorful' ? '{% static "music/color.css" %}' :
                theme === 'orange' ? '{% static "music/orange.css" %}' :
                '{% static "music/light.css" %}' // Default to light theme
            );

            // Change the background color based on theme
            const contactSection = document.querySelector('.contact-section');
            if (theme === 'dark') {
                contactSection.style.backgroundColor = '#2c2c2c';
            } else if (theme === 'light') {
                contactSection.style.backgroundColor = '#f4f4f4';
            } else if (theme === 'colorful') {
                contactSection.style.backgroundColor = '#f2a7f6';
            } else if (theme === 'orange') {
                contactSection.style.backgroundColor = '#ff6347';
            }
        }

        document.addEventListener('DOMContentLoaded', () => {
            const toggleButton = document.querySelector('.theme-toggle');
            if (toggleButton) {
                const currentTheme = localStorage.getItem('theme') || 'light';
                setTheme(currentTheme);

                toggleButton.textContent = currentTheme === 'light' ? 'Switch to Dark Mode' :
                                           currentTheme === 'dark' ? 'Switch to Colorful' :
                                           currentTheme === 'colorful' ? 'Switch to Orange' :
                                           'Switch to Light Mode';

                toggleButton.onclick = () => {
                    const currentTheme = localStorage.getItem('theme') || 'light';
                    const newTheme = currentTheme === 'dark' ? 'light' :
                                     currentTheme === 'light' ? 'colorful' :
                                     currentTheme === 'colorful' ? 'orange' : 'dark';
                    localStorage.setItem('theme', newTheme);
                    setTheme(newTheme);

                    toggleButton.textContent = newTheme === 'light' ? 'Switch to Dark Mode' :
                                               newTheme === 'dark' ? 'Switch to Colorful' :
                                               newTheme === 'colorful' ? 'Switch to Orange' :
                                               'Switch to Light Mode';
                };
            }
        });
    </script>
</body>
</html>
